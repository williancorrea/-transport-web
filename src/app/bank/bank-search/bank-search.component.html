<div class="ui-g">
   <div class="ui-g-12">
      <div class="card card-w-title">

         <div>
            <h1>{{'bank.list_of_banks' | translate}}</h1>
            <button pButton class="btn-add-new ui-button-secondary" label="{{'bank.add_bank' | translate}}" iconPos="left" icon="fa-plus"></button>
         </div>

         <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
            <div class="ui-inputgroup">
               <span class="ui-inputgroup-addon"><i class="fa fa-search"></i></span>
               <input #globalFilter pInputText type="text" size="50"
                      placeholder="{{'actions.global_filter' | translate}}">
            </div>
         </div>
         <p-dataTable #dataTable
                      [value]="banks"
                      [(selection)]="selectedBank"
                      selectionMode="single"
                      [lazy]="true" s
                      [globalFilter]="globalFilter"
                      (onLazyLoad)="loadBank($event)"
                      [loading]="loading"
                      [filterDelay]="1000"
                      [scrollable]="true"
                      emptyMessage="{{ 'actions.no_records_found' | translate}}"
                      [paginator]="true"
                      [rows]="10"
                      [pageLinks]="5"
                      [rowsPerPageOptions]="[5, 10, 20]"
                      [responsive]="true"
                      [dataKey]="id">

            <!--<p-header>{{'bank.list_of_banks' | translate}}</p-header>-->
            <p-column field="id" [hidden]="true"></p-column>
            <p-column field="code" header="{{'bank.fields.code' | translate}}" [sortable]="true"
                      [style]="{'width': '15%'}"></p-column>
            <p-column field="name" header="{{'bank.fields.name' | translate}}" [sortable]="true"></p-column>
            <p-column field="url" header="{{'bank.fields.url' | translate}}" [sortable]="true"></p-column>

            <ng-template pTemplate="paginatorLeft">
               <a pButton icon="fa-refresh" (click)="findAll(globalFilter, dataTable)"></a>
            </ng-template>

            <ng-template pTemplate="paginatorRight">
               <button type="button"
                       pButton
                       icon="fa-pencil"
                       label="{{'actions.edit' | translate}}"
                       [disabled]="selectedBank ? false :true"
                       (click)="edit()"></button>
               <button type="button"
                       pButton
                       icon="fa-trash"
                       class="ui-button-danger"
                       label="{{'actions.delete' | translate}}"
                       [disabled]="selectedBank ? false :true"
                       (click)="delete()"></button>
            </ng-template>
         </p-dataTable>


         <br><br>
         <p-table
            [columns]="tableCollumnsName"
            [value]="banks"

            [dataKey]="id"
            selectionMode="single"
            [(selection)]="selectedBank"

            [paginator]="true"
            [rows]="10"
            [pageLinks]="5"
            [rowsPerPageOptions]="[5, 10, 20]"
         >
            <!--GLOBAL FILTER-->
            <ng-template pTemplate="caption">
               <div style="text-align: right">
                  <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                  <input type="text" pInputText size="50"
                         placeholder="{{'actions.global_filter' | translate}}"
                         ngModel="globalFilter"
                         (keyup)="globalFilter()"
                         style="width:auto">
               </div>
            </ng-template>

            <!--EMPTY MESSAGE-->
            <ng-template pTemplate="emptymessage">
               <span>{{ 'actions.no_records_found' | translate}}</span>
            </ng-template>

            <!--TITLE OF TABLE-->
            <ng-template pTemplate="caption">
               {{'bank.list_of_banks' | translate}}
            </ng-template>

            <!--TITLE OF COLLUMNS-->
            <ng-template pTemplate="header" let-columns>
               <tr>
                  <th *ngFor="let col of columns">
                     {{col.header}}
                  </th>
               </tr>
            </ng-template>

            <!--DATA OF COLLUMNS-->
            <ng-template pTemplate="body" let-rowData let-columns="columns">
               <tr>
                  <td *ngFor="let col of columns">
                     {{rowData[col.field]}}
                  </td>
               </tr>
            </ng-template>

         </p-table>


      </div>
   </div>
</div>
